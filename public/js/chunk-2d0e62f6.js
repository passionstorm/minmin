(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e62f6"],{9856:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"d-flex bd-highlight mb-2"},[s("div",{staticClass:"mr-auto p-2 bd-highlight"},[s("a",{staticClass:"btn btn-d",attrs:{href:"javascript:;"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("❮ Quay lai")])]),s("div",{staticClass:"p-2 bd-highlight"},[s("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;"},on:{click:function(e){t.modal.reset=!0}}},[t._v("Reset")]),s("a",{staticClass:"btn btn-d ",attrs:{href:"javascript:;"}},[t._v("Lưu")]),s("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:t.onSubmit}},[t._v("Đăng")])])]),s("collapse",{staticClass:"card card-primary",attrs:{"aria-id":"colaps.post",open:t.colaps.post.open},on:{"update:open":function(e){return t.$set(t.colaps.post,"open",e)}},scopedSlots:t._u([{key:"trigger",fn:function(e){return s("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"colaps.post"}},[s("div",{staticClass:"card-header-title"},[t._v("Bài viết")]),s("a",{staticClass:"card-header-icon"},[s("icon",{attrs:{name:e.open?"arrow_down":"arrow_right"}})],1)])}}])},[s("div",{staticClass:"card-body"},[s("field",{staticClass:"col-sm-10",attrs:{label:"Tiêu đề",required:"required"}},[s("v-input",{attrs:{vid:"title",rules:"required",type:"'text'",title:"Tiêu đề*",placeholder:"Tiêu đề"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),s("field",{staticClass:"col-sm-10",attrs:{label:"Nội dung"}},[s("editor",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),s("field",[s("upload",{attrs:{"drag-drop":""},model:{value:t.dropFiles,callback:function(e){t.dropFiles=e},expression:"dropFiles"}},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("icon",{attrs:{name:"cloud_upload",size:"l"}})],1),s("p",[t._v("Drop your files here or click to upload")])])])])],1)],1)])],1),s("modal",{model:{value:t.modal.reset,callback:function(e){t.$set(t.modal,"reset",e)},expression:"modal.reset"}},[s("template",{slot:"header"},[s("h5",{staticClass:"modal-title"},[t._v("Xác nhận")])]),s("template",{slot:"body"},[s("p",[t._v("Bạn muốn reset nội dung đã nhập?")])]),s("template",{slot:"footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.modal.reset=!1}}},[t._v("NO")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button",autofocus:""},on:{click:t.reset}},[t._v("YES")])])],2)],1)},a=[],i=s("bb84"),n=s("2f62"),r=s("ed08"),l=s("b77d");const c={status:"1",seo:{},title:"",content:void 0,desc:"",source_uri:"",image_uri:"",display_time:void 0,id:void 0,comment_disabled:!1,importance:0};var d={components:{VInput:i["m"],Field:i["e"],Pin:i["h"],VSelect:i["o"],Modal:i["g"],Check:i["b"],Taginput:i["k"],Collapse:i["c"],Icon:i["f"],Upload:i["l"],Editor:i["d"]},props:{id:[Number,String]},data(){return{tags:[],colaps:{post:{open:!0},seo:{open:!0}},dataRes:{},editedItem:{},listCategory:[{id:0,name:"ban hang"},{id:1,name:"duoc"},{id:3,name:"nha cua"}],filterCategory:this.listCategory,statusOptions:{0:"draft",1:"publish"},modal:{reset:!1},filterSeoTags:[],listSeoTag:[],check:{test:!1},dropFiles:[],form:Object.assign({},c)}},watch:{dropFiles(t){console.log(t)}},computed:{...Object(n["c"])("post",["item"])},methods:{onTypeCategoryTag(t){this.filterCategory=this.listCategory.filter(e=>e.name.toString().toLowerCase().indexOf(t.toLowerCase())>=0)},onTypeSeoTags(t){console.log(this.form.seo.tags),this.filterSeoTags=this.listSeoTag.filter(e=>e.content.toString().toLowerCase().indexOf(t.toLowerCase())>=0)},reset(){this.form=Object.assign({},c),this.modal.reset=!1},onSubmit(){axios.post("post/create",this.form).then(t=>{t.data.success?(l["a"].success(this.id?"Cập nhật thành công!":"Thêm mới thành công!"),this.$router.push({name:"post_index"})):l["a"].success(this.id?"Cập nhật thất !":"Thêm mới thất bại!")}).catch(t=>l["a"].fail(t))},async onAddSeoTag(t){}},created(){},mounted(){this.id&&axios.get("post/edit/"+this.id).then(t=>{console.log(t.data),this.form=t.data,this.form.content=Object(r["b"])(this.form.content),this.form.seo={}})},beforeDestroy(){}},p=d,u=s("2877"),m=Object(u["a"])(p,o,a,!1,null,"4272b407",null);e["default"]=m.exports}}]);